spring.application.name=backend

# Load .env locally (Render ignores this)
spring.config.import=optional:file:.env[.properties]

# =========================
# MySQL Database Configuration
# =========================
# Use SPRING_DATASOURCE_* (preferred) or fallback to DB_* variables
spring.datasource.url=${SPRING_DATASOURCE_URL:${DB_URL:jdbc:mysql://localhost:3306/defaultdb}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DB_USERNAME:root}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DB_PASSWORD:}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =========================
# JPA/Hibernate Configuration
# =========================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# =========================
# Server Configuration
# =========================
# Render injects $PORT automatically
server.port=${PORT:8080}

# =========================
# CORS Configuration
# =========================
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:5173,https://web-development-l5kg.vercel.app,https://web-development-mi7t.onrender.com,https://lifewood-pi.vercel.app
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# =========================
# Mail (Gmail SMTP via STARTTLS on 587)
# =========================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.enable=false
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=15000
spring.mail.properties.mail.smtp.timeout=15000
spring.mail.properties.mail.writetimeout=15000
spring.mail.properties.mail.debug=true
spring.mail.test-connection=false

# =========================
# Email Footer Image (local only; wonâ€™t exist on Render)
# =========================
app.email.footer-image-path=C:\\Users\\hp\\Desktop\\KARUN\\web_development\\frontend\\public\\footer\\emailfooter.png
app.email.embed-footer=false
app.email.simple-mode=true
